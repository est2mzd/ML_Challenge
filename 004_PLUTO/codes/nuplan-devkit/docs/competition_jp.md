# nuPlan Planning Challenge

## 概要

nuPlan Planning Challengeの主な目的は、複数の性能指標を用いて現実的な運転シナリオでモーションプランニングシステムを評価することです。このチャレンジでは、プランナーが検出された交通参加者（車両、自転車など）や静的障害物のトップダウンセマンティック表現を利用し、特定の時間範囲で車両の将来の軌跡を計画すると想定しています。チャレンジは次の3つの段階的に複雑なモードで構成されています。

1. オープンループ
2. クローズドループ（非反応型エージェント）
3. クローズドループ（反応型エージェント）

## コンペティションスケジュール

- **2023年1月30日**: ウォームアップフェーズおよびテストフェーズへの提出開始
- **2023年5月26日**: コンペティション終了 - ファイナリスト発表およびコードの確認依頼
- **2023年6月2日**: 受賞者発表
- **2023年6月18日**: CVPR 2023における[End-to-End Autonomous Driving](https://opendrivelab.com/event/cvpr23_ADworkshop)ワークショップで結果を発表

## 参加方法

### 初めに

1. [nuPlanデータセット](https://www.nuscenes.org/nuplan)を登録してダウンロードします。
2. 開発キットをクローンします。質問があれば、[GitHub](https://github.com/motional/nuplan-devkit)でIssueを作成してください。
3. [EvalAI](https://eval.ai/web/challenges/challenge-page/1856/overview)でチームを作成します。

### 提出方法

1. [nuPlan提出チュートリアル](https://nuplan-devkit.readthedocs.io/en/latest/nuplan_submission_tutorial.html)を確認します。このチュートリアルでは、有効なDockerイメージの作成方法を学べます。
2. [EvalAI](https://eval.ai/web/challenges/challenge-page/1856/overview)を通じてDockerイメージを提出します。
3. 提出後、以下の情報をnuScenes@motional.comに送信してください。

```
チーム名
メソッド名
著者
所属機関
国（個人またはチームの所属機関の所在地）
メソッドの説明（5文以上）
プロジェクトURL（該当する場合）
論文URL（該当する場合）
提出ID
```


## 評価プロトコルとルール

nuPlan Planning Challengeの参加者は、EvalAI（オープンソース評価プラットフォーム）を通じてチャレンジのクラウドベースの評価サーバーにコードを提出します。コードはDockerイメージの形式で提出され、以下のチャレンジモードごとに実行されます。

1. オープンループ
2. 非反応型クローズドループ
3. 反応型クローズドループ

各シミュレーションの評価指標は集計され、パブリックリーダーボードに送信されます。また、詳細な指標とエラー解析プロットが提出ごとに利用可能です。

**ルールの概要:**
- シナリオごとに固定されたシナリオシミュレーションセットを実行します。
- 各シミュレーションは、シナリオの開始点（例: 左折の開始地点）から始まります。
- 各シミュレーションで現在および過去2秒間のシーン情報（自車位置、自車経路、エージェント、地図情報）がプランナーに提供されます。
- プランナーには1秒の時間制限があります。
- 各シナリオのシミュレーション期間は最大15秒、頻度は10Hzです。
- 各参加者の提出回数は3回までです。
- メソッドの簡単な説明を提出時に提供する必要があります。

**注意:**
コードを難読化したDockerイメージは審査対象外となります。ただし、非公開のプランナーを提出することは可能です。

## チャレンジ

### オープンループ（Challenge 1）

このモードでは、プランナーはオープンループで専門家ドライバーを模倣します。予測された軌跡は、事前定義された指標に基づいて評価されます。

- **指標:** 平均変位誤差（ADE）、最終変位誤差（FDE）など
- **詳細:** [指標の詳細](https://nuplan-devkit.readthedocs.io/en/latest/metrics_description.html)

### クローズドループ（非反応型エージェント - Challenge 2）

このモードでは、プランナーの軌跡を基に車両の状態をシミュレーションしますが、他のエージェントはオープンループで記録されたデータを再生します。

- **指標:** 衝突回避、進行状況、快適性など

### クローズドループ（反応型エージェント - Challenge 3）

このモードでは、エージェントは自車の行動に反応します（例: IDMポリシーを使用）。評価は、閉ループ指標に基づいて行われます。

## 受賞条件と賞品

- 上位3チームに賞金授与（1位: $10,000、2位: $8,000、3位: $5,000）
- **イノベーション賞:** $5,000（独自性の高い提出物に授与）
- **インターンシップ:** 優秀な参加者はMotionalでのインターンシップ機会が提供される可能性あり。

詳細は[利用規約](https://eval.ai/web/challenges/challenge-page/1856/evaluation)をご覧ください。

## お問い合わせ

質問があれば、[GitHubページ](https://github.com/motional/nuplan-devkit/issues)でIssueを作成するか、nuScenes@motional.comまでメールでお問い合わせください。
